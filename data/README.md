# Mock Datasets for FLSD Pipeline Testing

This directory contains mock datasets to test the data pipeline functionality.

## Directory Structure

- `raw/` - Raw input CSV files
- `processed/` - Output files generated by the pipeline

## Available Mock Datasets

### 1. Financial Data
- **Filename**: `financial_quarterly_20240401.csv`
- **Description**: Quarterly financial transactions with revenues and expenses
- **Columns**:
  - `date`: Transaction date
  - `amount`: Transaction amount (positive for revenue, negative for expense)
  - `category`: Transaction category (revenue/expense)
  - `description`: Transaction description
- **Processing**: The pipeline will add a `running_total` column

### 2. Market Data
- **Filename**: `market_stocks_20240401.csv`
- **Description**: Daily stock price data for AAPL
- **Columns**:
  - `date`: Trading date
  - `symbol`: Stock symbol
  - `price`: Closing price
  - `open`, `high`, `low`, `close`: OHLC data
  - `volume`: Trading volume
- **Processing**: The pipeline will add a `pct_change` column with daily percentage changes

### 3. Forecast Data
- **Filename**: `forecast_revenue_20240401.csv`
- **Description**: Monthly revenue forecast with historical and future projections
- **Columns**:
  - `date`: Month
  - `prediction`: Revenue forecast
  - `confidence`: Confidence level (0-1)
  - `scenario`: Forecast scenario (baseline/optimistic)
- **Processing**: The pipeline will validate future dates and categorize into historical/forecast periods

## Using the Mock Data

### Option 1: Run the Pipeline on Individual Files

```python
from src.pipeline import process_file_by_type
from pathlib import Path

# Process financial data
process_file_by_type(Path('data/raw/financial_quarterly_20240401.csv'), 'financial')

# Process market data
process_file_by_type(Path('data/raw/market_stocks_20240401.csv'), 'market')

# Process forecast data
process_file_by_type(Path('data/raw/forecast_revenue_20240401.csv'), 'forecast')
```

### Option 2: Run the Nightly Update (Processes Most Recent File)

```python
from src.pipeline import run_nightly_update

# Process the most recent file in data/raw
run_nightly_update()
```

### Option 3: Use the API

Upload files using the API endpoint:

```
curl -X POST -F "file=@data/raw/financial_quarterly_20240401.csv" http://localhost:8000/upload/
```

### Option 4: Run the Dashboard

After processing data, view it in the dashboard:

```
python -m src.dashboard
```

## Modifying the Mock Data

Feel free to modify these files or create new ones following the naming convention:

```
{type}_{description}_{date}.csv
```

Where:
- `type`: Determines processing pipeline (financial, market, forecast)
- `description`: Brief data description
- `date`: Date in YYYYMMDD format 